<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" href="../../assets/bootstrap-icons-1.11.3/airplane-fill.svg" type="image/x-icon">
	<title>Volando.uy - Reserva Vuelo - Cliente</title>
	<link href="../../assets/bootstrap-5.3.3-dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="../../assets/bootstrap-icons-1.11.3/font/bootstrap-icons.css" rel="stylesheet">
	<link href="../../css/styles.css" rel="stylesheet">
	<link href="../../css/custom.css" rel="stylesheet">
</head>

<body class="bg-light d-flex flex-column min-vh-100">
	<div class="container-fluid p-0">
		<header class="bg-primary text-white bg-white">
			<div class="container">
				<div class="row align-items-center">
					<div class="col-md-3">
						<a href="index.html"> <img class="img-logo" src="../../assets/images/logo-no-bg.png"
								alt="Volando.uy"></img>
						</a>
					</div>
					<div class="col-md-7">
						<div class="input-group">
							<input type="text" class="form-control" placeholder="Usuario, Ruta, vuelo, Paquete">
							<button class="btn btn-primary" type="button">Buscar</button>
						</div>
					</div>
					<div class="col-md-2 text-end">

						<!-- Usuario logueado -->

						<div class="dropdown">
							<div class="d-flex align-items-center" style="justify-content: end" id="userDropdown"
								data-bs-toggle="dropdown" aria-expanded="false">
								<div class="user-avatar me-2">
									<img src="../../assets/images/US07.jpeg" alt="Emily" class="rounded-circle"
										width="40" height="40">
								</div>
								<span class="me-2 texto-colapsado" style="color: black; user-select: none;">Emily</span>
								<i class="bi bi-chevron-down" style="color: black;"></i>
							</div>
							<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
								<li><a class="dropdown-item" href="detalle-cliente-perfil-propio.html">Mi Perfil</a>
								</li>

								<li>
									<hr class="dropdown-divider">
								</li>
								<li><a class="dropdown-item" href="../index.html">Cerrar Sesión</a></li>
							</ul>

						</div>
					</div>
				</div>
			</div>
		</header>

		<!-- Category Section -->
		<div class="bg-white border-bottom py-3">
			<div class="container">
				<div class="row category-icons text-center">
					<div class="col">
						<a href="listado-vuelos.html" class="text-decoration-none" style="color: black"> <i
								class="bi bi-airplane"></i>
							<span>Vuelos</span>
						</a>
					</div>
					<div class="col">
						<a href="listado-ruta-vuelo.html" class="text-decoration-none" style="color: black"> <i
								class="bi bi-arrow-down-up"></i> <span>Ruta de Vuelo</span>
						</a>
					</div>
					<div class="col">
						<a href="listado-usuarios.html" class="text-decoration-none" style="color: black"> <i
								class="bi bi-people"></i>
							<span>Usuarios</span>
						</a>
					</div>
					<div class="col">
						<a href="listado-paquete.html" class="text-decoration-none" style="color: black"> <i
								class="bi bi-star"></i> <span>Paquetes</span>
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>

	<main class="flex-grow-1 py-5">
		<div class="container">
			<div class="row">
				<aside class="col-lg-3 mb-4">
					<!-- Botones de acción importantes -->
					<div class="d-grid gap-3 mb-4">
						<!-- Cliente -->
						<button class="btn btn-success btn-lg">
							<a href="listado-vuelos.html" class="text-decoration-none" style="color: white;"> <i
									class="bi bi-calendar-check me-2"></i>Realizar Reserva
							</a>
						</button>
						<button class="btn btn-orange btn-lg">
							<a href="listado-paquete.html" class="text-decoration-none" style="color: white;"> <i
									class="bi bi-star me-2"></i>Comprar
								Paquete
							</a>
						</button>
						<!-- General -->
						<button class="btn btn-purple btn-lg">
							<a href="listado-reserva-vuelo.html" class="text-decoration-none" style="color: white;"> <i
									class="bi bi-search me-2"></i>Consultar Reserva
							</a>
						</button>
					</div>
					<div class="card">
						<div class="card-header">
							<b>Categorías</b>
						</div>

						<ul class="list-group list-group-flush">
							<li class="list-group-item"><a href="listado-ruta-vuelo.html"
									class="text-decoration-none text-muted enlace-hover">Nacionales</a></li>
							<li class="list-group-item"><a href="listado-ruta-vuelo.html"
									class="text-decoration-none text-muted enlace-hover">Internacionales</a></li>
							<li class="list-group-item"><a href="listado-ruta-vuelo.html"
									class="text-decoration-none text-muted enlace-hover">Europa</a></li>
							<li class="list-group-item"><a href="listado-ruta-vuelo.html"
									class="text-decoration-none text-muted enlace-hover">América</a></li>
							<li class="list-group-item"><a href="listado-ruta-vuelo.html"
									class="text-decoration-none text-muted enlace-hover">Exclusivos</a></li>
							<li class="list-group-item"><a href="listado-ruta-vuelo.html"
									class="text-decoration-none text-muted enlace-hover">Temporada</a></li>
							<li class="list-group-item"><a href="listado-ruta-vuelo.html"
									class="text-decoration-none text-muted enlace-hover">Cortos</a></li>
						</ul>
					</div>
				</aside>

				<div class="col-lg-9">
					<div class="window mb-4">
						<h4>Aerolinea del Vuelo:</h4>
						<div class="route-card">
							<div class="route-info">
								<span class="flight-date">aerolineas</span> <a href="detalle-aerolinea-perfil.html"
									class="text-decoration-none">
									<h3>Aerolineas Argentinas</h3>
								</a> <span class="flight-date">Aerolınea nacional de Argentina que ofrece vuelos
									directos entre multiples
									destinos.</span>
							</div>
						</div>

						<h4>Ruta del Vuelo:</h4>
						<div class="route-card">
							<div class="route-info">
								<span class="flight-date">Aerolineas Argentinas</span> <a href="detalle-ruta-vuelo.html"
									class="text-decoration-none">
									<h3>Buenos Aires - Montevideo (AR1380)</h3>
								</a> <span class="badge client-badge">América</span> <span
									class="badge client-badge">Cortos</span>
								<div class="flight-date mt-2">
									Asiento Turista: USD<span id="cost-tur">20</span> - Asiento Ejecutivo: USD<span
										id="cost-eje">40</span> -
									Equipaje Extra: USD<span id="cost-ext">60</span>
								</div>
							</div>
						</div>
					</div>
					<div class="card mb-4">
						<div class="row g-0">
							<div class="col-md-4">
								<img src="../../assets/images/VU08.jpg" alt="Vuelo" class="img-fluid rounded-start">
							</div>
							<div class="col-md-8">
								<div class="card-body">
									<h3 class="card-title h5 fw-bold" style="padding-bottom: 1rem;">
										<a class="text text-decoration-none"
											href="detalle-vuelo-con-reserva.html">AR1380939</a>
									</h3>
									<p class="card-text">
										<b>Ciudad origen:</b> Buenos Aires, Argentina
									</p>
									<p class="card-text">
										<b>Ciudad destino:</b> Montevideo, Uruguay (Carrasco)
									</p>
									<p class="card-text">
										<b>Fecha de vuelo:</b> 24/11/2024
									</p>
									<p class="card-text">
										<b>Duracion:</b> 00:26 horas
									</p>
									<p class="card-text">
										<b>Costo turista:</b> USD120
									</p>
									<p class="card-text">
										<b>Costo ejecutivo:</b> USD340
									</p>
									<p class="card-text">
										<b>Costo equipaje extra:</b> USD30
									</p>
								</div>
							</div>
						</div>
					</div>

					<div class="window mb-4">
						<h4>Paquetes disponibles:</h4>
						<div class="route-card d-flex">
							<div class="route-info col-10">
								<a href="detalle-aerolinea-perfil.html" class="text-decoration-none">
									<h3 class="mb-2">Cruzar el Charco</h3>
									<span class="badge client-badge" style="background-color: #28a745;"><span id="Cruzar el Charco-discount">30</span>% OFF</span>
									<span class="badge expiration-badge"> Vence: 23/01/2025 </span>
								</a>
							</div>
							<div class="col-2 mx-auto mt-auto text-center">
								<span class="badge uses-badge">2</span>
								<p class="flight-date">usos restantes</p>
							</div>
						</div>
					</div>

					<div class="window mb-4">
						<form>
							<div class="mb-3">
								<h3 style="padding-bottom: 1rem">Datos de la Reserva:</h3>
								<label for="asiento-type" class="form-label">Tipo de Asiento:</label> <select
									class="form-select" id="asiento-type" name="tipoAsiento" required>
									<option value="turista">Turista</option>
									<option value="ejecutivo">Ejecutivo</option>
								</select>
							</div>
							<div class="mb-3">
								<label for="cant-equipaje" class="form-label">Cantidad de Equipaje Extra:</label> <input
									type="number" class="form-control" id="cant-equipaje" name="cantEquipajeExtra"
									min="0" value="0">
							</div>
							<div class="mb-3">
								<label for="cant-pasajeros" class="form-label">Cantidad de Pasajes:</label> <input
									type="number" class="form-control" id="cant-pasajeros" name="cantPasajeros" min="1"
									value="1">
							</div>
							<div class="mb-3" id="pasajeros-container"></div>
							<div class="mb-3 d-flex">
								<div class="col-8">
									<label for="acomps" class="form-label">Usar paquete:</label> <select
										class="form-select" id="paquete">
										<option value=""></option>
										<option value="Cruzar el Charco">Cruzar el Charco</option>
									</select>
								</div>
								<div class="col-4 text-center mt-auto">
									Costo Total <br>
									<b>USD <span id="cost">0</span></b>
								</div>
							</div>
							<div class="text-center mt-5">
								<button type="submit" class="btn btn-primary btn-lg w-20"
									id="submit-reserva">Confirmar Reserva</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</main>

	<footer class="bg-dark py-4 mt-auto">
		<div class="container">
			<div class="row align-items-center justify-content-between">
				<div class="col-auto">
					<div class="small m-0 text-white">Copyright &copy; Volando.uy 2023</div>
				</div>
				<div class="col-auto">
					<a class="link-light small" href="#!">Privacy</a> <span class="text-white mx-1">&middot;</span> <a
						class="link-light small" href="#!">Terms</a> <span class="text-white mx-1">&middot;</span> <a
						class="link-light small" href="#!">Contact</a>
				</div>
			</div>
		</div>
	</footer>

	<script>
		document.getElementById("cant-pasajeros").addEventListener("input", agregarPasajeros);
		document.getElementById("cant-equipaje").addEventListener("input", actualizarCosto);
		document.getElementById("asiento-type").addEventListener("input", actualizarCosto);
		document.getElementById("paquete").addEventListener("input", actualizarCosto);

		function agregarPasajeros() {
			// Obtener el número de pasajeros
			const numPasajeros = document.getElementById("cant-pasajeros").value;

			// Limpiar cualquier formulario existente
			const pasajerosContainer = document.getElementById("pasajeros-container");
			pasajerosContainer.innerHTML = "";

			if (numPasajeros > 1)
				pasajerosContainer.innerHTML = `
				<h5>Acompañantes:</h5>
            `;

			// Crear un formulario para cada pasajero
			for (let i = 1; i <= numPasajeros - 1; i++) {
				// Crear div para cada pasajero
				const pasajeroDiv = document.createElement("div");
				pasajeroDiv.classList.add("row");

				pasajeroDiv.innerHTML = `
                	<div class="col-md-6 mt-1">
						<label for="acomp-nombre" class="form-label">Nombre:</label> <input type="text"
						class="form-control" id="nombre${i}" name="nombre${i}" required>
					</div>
					<div class="col-md-6 mt-1">
						<label for="acomp-apellido" class="form-label">Apellido:</label> <input type="text"
						class="form-control" id="apellido${i}" name="apellido${i}" required>
					</div>
                `;

				// Añadir cada div al contenedor principal
				pasajerosContainer.appendChild(pasajeroDiv);

			}

			actualizarCosto();
		}

		function actualizarCosto() {
			const tipoAsiento = document.getElementById("asiento-type").value;
			const paquete = document.getElementById("paquete").value;
			
			let descuentoPaquete = 0;
			if (paquete != ""){
				descuentoPaquete = parseInt(document.getElementById(`${paquete}-discount`).innerHTML);
			}
			
			const numPasajeros = document.getElementById("cant-pasajeros").value;
			const costoTurista = parseFloat(document.getElementById("cost-tur").innerHTML);
			const costoEjecutivo = parseFloat(document.getElementById("cost-eje").innerHTML);
			const costoExtra = parseFloat(document.getElementById("cost-ext").innerHTML);
			const cantExtra = parseInt(document.getElementById("cant-equipaje").value);

			if (tipoAsiento == "turista"){
				document.getElementById("cost").innerHTML = costoTurista * numPasajeros * (1 - descuentoPaquete/100) + costoExtra * cantExtra;
			} else {
				document.getElementById("cost").innerHTML = costoEjecutivo * numPasajeros * (1 - descuentoPaquete/100) + costoExtra * cantExtra;
			}
		}


		// Función de envío del formulario (puedes personalizarla para enviar los datos)
		document.getElementById("submit-confirmar").addEventListener("click", function () {
			alert("Reserva enviada con éxito!");
		});
	</script>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>